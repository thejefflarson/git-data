#!/usr/bin/env bash

tarball="git-data.tar.gz"
git_data="`pwd`/.git-data"

get_remote() {
  local key=$1

  if [ -z $key ]
  then
    remote=$(git config --get git-data.origin.url)
  else
    remote=$(git config --get git-data.$key.url)
  fi

  if [ -z $remote ]
  then
    echo "you need to set at least one remote in git-data try: git data remote origin [server]"
    exit 1
  fi
  echo "$remote"
}

set_remote() {
  `git config git-data.$1.server $2`
}

file_name() {
  local sha=$1
  echo "git-data-$sha.tar.gz"
}

# http://docs.amazonwebservices.com/AmazonS3/latest/dev/RESTAuthentication.html
sign_request() {
  local sign=$1
  echo $sign | openssl dgst -sha256 -binary -hmac $AWS_SECRET_ACCESS_KEY | openssl base64
  echo "signing"
}



